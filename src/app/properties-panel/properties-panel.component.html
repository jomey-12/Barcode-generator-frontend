<div class="properties-panel">
  <!-- <div style="display: flex; gap:8px"> -->
<!-- <span class="properties-icon"> -->
  <!-- </span>  -->
  <span>Properties</span>
  
  <!-- </div> -->
  
  <div *ngIf="!selectedWidget" class="no-selection">
    <p>Select a widget to edit its properties</p>
  </div>

  <!-- Barcode Properties -->
  <div *ngIf="selectedWidget && selectedWidget.type === 'barcode'" class="widget-properties">
    <h4>Widget: Barcode</h4>

    <div class="property-group">
      <label>Barcode Type</label>
      <select
        [value]="selectedWidget.barcodeType"
        (change)="onPropertyChange('barcodeType', $any($event.target).value)"
      >
        <option value="CODE128">CODE128</option>
        <option value="CODE39">CODE39</option>
        <option value="EAN13">EAN13</option>
        <option value="UPC">UPC</option>
        <option value="ITF14">ITF14</option>
      </select>
    </div>
    
    <button class="btn btn-primary full-width" (click)="generateBarcode.emit()">
      Generate Barcode
    </button>
    
    <!-- <div class="property-group json-data">
      <label>Generated JSON Preview</label>
      <div class="json-preview">{{jsonPreview}}</div>
    </div> -->
    
    <button
      *ngIf="selectedWidget.hasBarcode"
      class="btn btn-primary full-width"
      (click)="clearBarcode.emit()"
    >
       Clear Barcode
    </button>
  </div>

    <!-- Barcode Properties -->
  <div *ngIf="selectedWidget && selectedWidget.type === 'qr-code'" class="widget-properties">
    <h4>Widget: QR Code</h4>
    
    
    <button class="btn btn-primary full-width" (click)="generateQr.emit(jsonPreview)">
       Generate QR Code
    </button>
    

    
    <button
      *ngIf="selectedWidget.hasQr"
      class="btn btn-primary full-width"
      (click)="clearQr.emit()"
    >
       Clear QR
    </button>
  </div>

  <!-- Image Properties -->
  <div *ngIf="selectedWidget && selectedWidget.type === 'image'" class="widget-properties">
    <h4>Widget: Image</h4>
    
    <div class="property-group">
      <label>Image File</label>
      <div class="image-info">
        {{selectedWidget.imageName || 'No image uploaded'}}
      </div>
      <button class="btn btn-primary full-width" (click)="onImageUpload()">
         Upload New Image
      </button>
    </div>
  </div>

    <!-- Separator Properties -->
  <div *ngIf="selectedWidget && selectedWidget.type === 'separator'" class="widget-properties">
    <h4>Widget: Separator Line</h4>
    
<div class="property-group">
  <label for="line-orientation">Line Orientation:</label>
<select id="line-orientation"
        [value]="selectedWidget.orientation"
        (change)="onOrientationChange($event)">
  <option value="horizontal">Horizontal</option>
  <option value="vertical">Vertical</option>
</select>
</div>
  </div>

  <!-- Labeled Input Properties -->
  <div *ngIf="selectedWidget && selectedWidget.type === 'labeled-input'" class="widget-properties">
    <h4>Widget: Labeled Input</h4>
    
    <div class="property-group">
      <label>Label Text</label>
      <input
        type="text"
        [value]="selectedWidget.labelText"
        (input)="onPropertyChange('labelText', $any($event.target).value)"
      />
    </div>
    
    <div class="property-group">
      <label>Input Value</label>
      <input
        type="text"
        [value]="selectedWidget.inputValue"
        (input)="onPropertyChange('inputValue', $any($event.target).value)"
      />
    </div>
    
    <div class="property-group">
      <label>Hide Label</label>
      <select
        [value]="selectedWidget.hideLabel"
        (change)="onPropertyChange('hideLabel', $any($event.target).value === 'true')"
      >
        <option value="false">No</option>
        <option value="true">Yes</option>
      </select>
    </div>
    
    <div class="property-group">
      <label>Label Position (relative to input field)</label>
      <select
        [value]="selectedWidget.labelPosition"
        (change)="onPropertyChange('labelPosition', $any($event.target).value)"
      >
        <option value="right">Right of Input</option>
        <option value="left">Left of Input</option>
        <option value="top">Above Input</option>
        <option value="bottom">Below Input</option>
      </select>
    </div>
  </div>
    <!-- Labeled Input Properties -->
  <div *ngIf="selectedWidget && selectedWidget.type === 'description-input'" class="widget-properties">
    <h4>Widget: Description Input</h4>
    
    <div class="property-group">
      <label>Label Text</label>
      <input
        type="text"
        [value]="selectedWidget.descriptionLabelText"
        (input)="onPropertyChange('descriptionLabelText', $any($event.target).value)"
      />
    </div>
    
    <div class="property-group">
      <label>Input Value</label>
      <input
        type="text"
        [value]="selectedWidget.descriptionInputValue"
        (input)="onPropertyChange('descriptionInputValue', $any($event.target).value)"
      />
    </div>
    
    <div class="property-group">
      <label>Hide Label</label>
      <select
        [value]="selectedWidget.descriptionHideLabel"
        (change)="onPropertyChange('descriptionHideLabel', $any($event.target).value === 'true')"
      >
        <option value="false">No</option>
        <option value="true">Yes</option>
      </select>
    </div>
    
    <div class="property-group">
      <label>Label Position (relative to input field)</label>
      <select
        [value]="selectedWidget.descriptionLabelPosition"
        (change)="onPropertyChange('descriptionLabelPosition', $any($event.target).value)"
      >
        <option value="right">Right of Input</option>
        <option value="left">Left of Input</option>
        <option value="top">Above Input</option>
        <option value="bottom">Below Input</option>
      </select>
    </div>
  </div>
</div>

    <div class="property-group json-data">
      <label>Product Details</label>
      <div class="json-preview">{{jsonPreview}}</div>
          <button class="btn btn-primary full-width" (click)="saveProductDetails()">
      Save Product Details
    </button>
    <!-- success message -->
     
    
<div *ngIf="showSuccess" class="success-message">
   âœ“ Success! Product details saved.
</div>
<div *ngIf="isTemplateNull" class="info-message">
  Please save your template first!
</div>
</div>